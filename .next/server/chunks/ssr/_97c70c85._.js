module.exports=[65938,(a,b,c)=>{var d="Expected a function",e=0/0,f=/^\s+|\s+$/g,g=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,i=/^0o[0-7]+$/i,j=parseInt,k=a.g&&a.g.Object===Object&&a.g,l="object"==typeof self&&self&&self.Object===Object&&self,m=k||l||Function("return this")(),n=Object.prototype.toString,o=Math.max,p=Math.min,q=function(){return m.Date.now()};function r(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function s(a){if("number"==typeof a)return a;if("symbol"==typeof(b=a)||b&&"object"==typeof b&&"[object Symbol]"==n.call(b))return e;if(r(a)){var b,c="function"==typeof a.valueOf?a.valueOf():a;a=r(c)?c+"":c}if("string"!=typeof a)return 0===a?a:+a;a=a.replace(f,"");var d=h.test(a);return d||i.test(a)?j(a.slice(2),d?2:8):g.test(a)?e:+a}b.exports=function(a,b,c){var e=!0,f=!0;if("function"!=typeof a)throw TypeError(d);return r(c)&&(e="leading"in c?!!c.leading:e,f="trailing"in c?!!c.trailing:f),function(a,b,c){var e,f,g,h,i,j,k=0,l=!1,m=!1,n=!0;if("function"!=typeof a)throw TypeError(d);function t(b){var c=e,d=f;return e=f=void 0,k=b,h=a.apply(d,c)}function u(a){var c=a-j,d=a-k;return void 0===j||c>=b||c<0||m&&d>=g}function v(){var a,c,d,e=q();if(u(e))return w(e);i=setTimeout(v,(a=e-j,c=e-k,d=b-a,m?p(d,g-c):d))}function w(a){return(i=void 0,n&&e)?t(a):(e=f=void 0,h)}function x(){var a,c=q(),d=u(c);if(e=arguments,f=this,j=c,d){if(void 0===i)return k=a=j,i=setTimeout(v,b),l?t(a):h;if(m)return i=setTimeout(v,b),t(j)}return void 0===i&&(i=setTimeout(v,b)),h}return b=s(b)||0,r(c)&&(l=!!c.leading,g=(m="maxWait"in c)?o(s(c.maxWait)||0,b):g,n="trailing"in c?!!c.trailing:n),x.cancel=function(){void 0!==i&&clearTimeout(i),k=0,e=j=f=i=void 0},x.flush=function(){return void 0===i?h:w(q())},x}(a,b,{leading:e,maxWait:b,trailing:f})}},40777,a=>{"use strict";let b;var c=a.i(87924),d=a.i(72131);let e=(a,b,c)=>Math.round((a.getTime()-b.getTime())/864e5*c);var f=a.i(56711),g=a.i(42724),h=a.i(74016);function i(a,b,c){let d=(0,h.toDate)(a,c?.in);return isNaN(b)?(0,g.constructFrom)(c?.in||a,NaN):(b&&d.setDate(d.getDate()+b),d)}a.i(57270),a.i(67638);let j={day:"EEE dd",week:"'Week' ww",month:"MMM yyyy"},k=(a,b)=>"day"===b?i(a,1):"week"===b?i(a,7,void 0):function(a,b,c){let d=(0,h.toDate)(a,void 0);if(isNaN(1))return(0,g.constructFrom)(a,NaN);let e=d.getDate(),f=(0,g.constructFrom)(a,d.getTime());return(f.setMonth(d.getMonth()+1+1,0),e>=f.getDate())?f:(d.setFullYear(f.getFullYear(),f.getMonth(),e),d)}(a,0),l=({startDate:a,endDate:b,viewMode:d,pixelsPerDay:g})=>{let h=((a,b,c)=>{let d=[],e=new Date(a);for(;e<=b;)d.push({date:new Date(e),label:(0,f.format)(e,j[c])}),e=k(e,c);return d})(a,b,d);return(0,c.jsx)("div",{style:{position:"relative"},children:h.map(b=>{let d=e(b.date,a,g);return(0,c.jsx)("div",{style:{position:"absolute",left:d,top:0,width:Math.max(1,g),height:48,borderRight:"1px solid #eef2f7",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,c.jsx)("div",{className:"text-xs text-neutral-700",children:b.label})},b.date.toISOString())})})},m=({x1:a,y1:b,x2:d,y2:e})=>(0,c.jsx)("path",{d:`M ${a} ${b} C ${a+24} ${b} ${d-24} ${e} ${d} ${e}`,stroke:"#94a3b8",strokeWidth:2,fill:"none",markerEnd:"url(#arrowhead)"});var n=a.i(46271);let o=d.default.memo(({task:a,left:b,width:e,top:g,onOpen:h,pixelsPerDay:i=20,onCommit:j})=>{let k=(0,d.useRef)(null),[l,m]=(0,d.useState)(b),[o,p]=(0,d.useState)(e),[q,r]=(0,d.useState)(!1),[s,t]=(0,d.useState)(null),u=(0,d.useRef)(null);(0,d.useEffect)(()=>{m(b),p(e)},[b,e]);let v=(0,d.useCallback)(a=>{(q||s)&&(q&&m(b=>Math.max(0,b+a.movementX)),"left"===s&&(m(b=>Math.max(0,b+a.movementX)),p(b=>Math.max(10,b-a.movementX))),"right"===s&&p(b=>Math.max(10,b+a.movementX)))},[q,s]),w=(0,d.useCallback)(()=>{if((q||s)&&j?.(a.id,l,o),r(!1),t(null),null!==u.current){try{k.current?.releasePointerCapture(u.current)}catch{}u.current=null}},[q,s,l,o,j,a.id]);(0,d.useEffect)(()=>(window.addEventListener("pointermove",v),window.addEventListener("pointerup",w),()=>{window.removeEventListener("pointermove",v),window.removeEventListener("pointerup",w)}),[v,w]);let x=(0,d.useCallback)((a,b)=>{a.target.setPointerCapture?.(a.pointerId),u.current=a.pointerId,"left"===b?t("left"):"right"===b?t("right"):r(!0)},[]),y=(0,d.useCallback)(b=>{switch(b.key){case"Enter":case" ":h(a.id),b.preventDefault();break;case"ArrowLeft":m(a=>Math.max(0,a-i));break;case"ArrowRight":m(a=>a+i);break;case"Escape":r(!1),t(null)}},[h,a.id,i]),z=(0,d.useMemo)(()=>`${a.title}. From ${(0,f.format)(a.startDate,"MMM d, yyyy")} to ${(0,f.format)(a.endDate,"MMM d, yyyy")}. Progress: ${a.progress}%. Press Enter to edit.`,[a]),A=a.color||"#0ea5e9",B=(a=>{let b=a.startsWith("#")?a.slice(1):a;if(6!==b.length)return"#fff";let c=parseInt(b,16);return(299*(c>>16&255)+587*(c>>8&255)+114*(255&c))/1e3>150?"#000":"#fff"})(A);return(0,c.jsxs)(n.motion.div,{ref:k,role:"button",tabIndex:0,"aria-label":z,"aria-describedby":`task-${a.id}-details`,onKeyDown:y,onDoubleClick:()=>h(a.id),onPointerDown:a=>x(a),style:{position:"absolute",left:l,top:g,width:o,height:a.isMilestone?24:32,backgroundColor:A,borderRadius:6,color:B,display:"flex",alignItems:"center",padding:"0 8px",boxShadow:q?"0 8px 20px rgba(0,0,0,0.15)":"0 2px 6px rgba(0,0,0,0.08)",cursor:q?"grabbing":"grab",userSelect:"none",fontWeight:500,outline:"none"},className:"focus-visible:ring-2 focus-visible:ring-blue-700 focus-visible:ring-offset-2",initial:{opacity:0,y:-4},animate:{opacity:1,y:0},transition:{duration:.12},children:[(0,c.jsx)("div",{id:`task-${a.id}-details`,style:{flex:1,fontSize:12,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:a.title}),!a.isMilestone&&(0,c.jsxs)("div",{style:{marginLeft:8,fontSize:12},children:[a.progress,"%"]}),(0,c.jsx)("div",{"data-handle":"left",onPointerDown:a=>x(a,"left"),style:{position:"absolute",left:0,top:0,bottom:0,width:8,cursor:"ew-resize"},"aria-label":"Resize start date",role:"separator"}),(0,c.jsx)("div",{"data-handle":"right",onPointerDown:a=>x(a,"right"),style:{position:"absolute",right:0,top:0,bottom:0,width:8,cursor:"ew-resize"},"aria-label":"Resize start date",role:"separator"})]})});var p=a.i(65938);let q=(0,d.lazy)(()=>a.A(36482)),r=d.default.memo(function({rows:a,tasks:b,startDate:f,endDate:g,viewMode:h,onTaskUpdate:i}){let j="day"===h?40:"week"===h?20:10,k=f instanceof Date?f:new Date(f),n=Math.max(800,((g instanceof Date?g:new Date(g)).getTime()-k.getTime())/864e5*j+200),r=(0,d.useRef)(null),[s,t]=(0,d.useState)(null),[u,v]=(0,d.useState)(1);(0,d.useEffect)(()=>{let a=r.current;if(!a)return;let b=(0,p.default)(b=>{b.ctrlKey?(b.preventDefault(),v(a=>Math.min(2,Math.max(.5,a-.001*b.deltaY)))):a.scrollBy({left:b.deltaY,behavior:"smooth"})},16);return a.addEventListener("wheel",b,{passive:!1}),()=>a.removeEventListener("wheel",b)},[]);let w=(0,d.useMemo)(()=>{let c=new Map;return(a||[]).forEach((a,d)=>{(a.tasks||[]).forEach(a=>{let g,h,i=b[a];if(!i)return;let k=e(new Date(i.startDate),new Date(f),j),l=(g=new Date(i.startDate),h=new Date(i.endDate),Math.max(1,Math.round((h.getTime()-g.getTime())/864e5*j)));c.set(a,{left:k,width:l,top:64*d+12})})}),c},[a,b,f,j]),x=(0,d.useMemo)(()=>{let a=[];return Object.values(b).forEach(b=>{b.dependencies?.forEach(d=>{let e=w.get(d),f=w.get(b.id);if(!e||!f)return;let g=e.left+e.width+220,h=e.top+48,i=f.left+220,j=f.top+48;a.push((0,c.jsx)(m,{x1:g,y1:h,x2:i,y2:j},`${d}-${b.id}`))})}),a},[b,w]),y=(0,d.useCallback)((a,b,c)=>{let d=Math.round(b/(j*u)),e=new Date(f);e.setDate(e.getDate()+d);let g=Math.max(1,Math.round(c/(j*u))),h=new Date(e);h.setDate(h.getDate()+g),i(a,{startDate:e,endDate:h})},[i,f,j,u]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("section",{className:"relative border rounded bg-white",role:"region","aria-label":"Timeline view",style:{minHeight:64*a.length+80},children:(0,c.jsxs)("div",{style:{display:"flex"},children:[(0,c.jsxs)("div",{style:{width:220,borderRight:"1px solid #e6edf3",background:"#f9fafb",position:"sticky",left:0,zIndex:6},"aria-label":"Resource list",role:"region",children:[(0,c.jsx)("header",{style:{height:48,display:"flex",alignItems:"center",paddingLeft:12},children:(0,c.jsx)("h2",{className:"text-sm font-semibold text-gray-900 m-0",children:"Resources"})}),(0,c.jsx)("ul",{style:{margin:0,padding:0,listStyle:"none"},role:"list","aria-label":"Resource rows",children:a.map(a=>(0,c.jsx)("li",{style:{height:64,display:"flex",alignItems:"center",paddingLeft:12,borderBottom:"1px solid #f3f4f6",backgroundColor:"#ffffff"},children:(0,c.jsx)("div",{className:"inline-block bg-white px-1 py-0.5 rounded",children:(0,c.jsx)("span",{className:"text-xs text-gray-800",children:a.label})})},a.id))})]}),(0,c.jsx)("section",{ref:r,role:"region","aria-label":"Timeline scrollable area",tabIndex:0,style:{overflowX:"auto",width:"100%",outline:"none",background:"#ffffff"},children:(0,c.jsxs)("div",{style:{position:"relative",width:n},children:[(0,c.jsx)("div",{style:{position:"sticky",top:0,zIndex:5,background:"#fff"},children:(0,c.jsxs)("div",{style:{height:48,position:"relative",marginLeft:220},children:[(0,c.jsx)(l,{startDate:f,endDate:g,viewMode:h,pixelsPerDay:j*u}),(0,c.jsx)("div",{style:{position:"absolute",left:e(new Date,f,j*u),top:0,bottom:0,width:2,background:"rgba(239,68,68,0.9)"},"aria-hidden":"true"})]})}),(0,c.jsxs)("div",{style:{position:"relative"},children:[(0,c.jsxs)("svg",{style:{position:"absolute",left:220,top:48,width:n*u,height:64*a.length},"aria-hidden":"true",children:[(0,c.jsx)("defs",{children:(0,c.jsx)("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",children:(0,c.jsx)("polygon",{points:"0 0, 10 3, 0 6",fill:"#94a3b8"})})}),(0,c.jsx)("g",{children:x})]}),(0,c.jsx)("div",{style:{marginLeft:220,paddingTop:48},role:"list","aria-label":"Task rows",children:a.map(a=>(0,c.jsx)("div",{style:{height:64,position:"relative",borderBottom:"1px solid #f3f4f6",backgroundColor:"#ffffff"},role:"listitem",children:a.tasks.map(a=>{let d=b[a];if(!d)return null;let e=w.get(a);return(0,c.jsx)(o,{task:d,left:e.left,width:e.width,top:e.top,onOpen:()=>t(d.id),onCommit:(a,b,c)=>y(a,b,c),pixelsPerDay:j*u},d.id)})},a.id))})]})]})})]})}),s&&b[s]&&(0,c.jsx)(d.Suspense,{fallback:(0,c.jsx)("div",{children:"Loading task details..."}),children:(0,c.jsx)("aside",{role:"complementary","aria-label":"Task details sidebar",className:"fixed right-0 top-0 h-full w-[360px] bg-white shadow-lg z-10 border-l",children:(0,c.jsx)(q,{task:b[s],onClose:()=>t(null),onSave:a=>{i(s,a),t(null)}})})})]})}),s=a=>{let b,c=new Set,d=(a,d)=>{let e="function"==typeof a?a(b):a;if(!Object.is(e,b)){let a=b;b=(null!=d?d:"object"!=typeof e||null===e)?e:Object.assign({},b,e),c.forEach(c=>c(b,a))}},e=()=>b,f={setState:d,getState:e,getInitialState:()=>g,subscribe:a=>(c.add(a),()=>c.delete(a))},g=b=a(d,e,f);return f},t=a=>{let b=a?s(a):s,c=a=>(function(a,b=a=>a){let c=d.default.useSyncExternalStore(a.subscribe,d.default.useCallback(()=>b(a.getState()),[a,b]),d.default.useCallback(()=>b(a.getInitialState()),[a,b]));return d.default.useDebugValue(c),c})(b,a);return Object.assign(c,b),c},u=[{id:"row-1",label:"Frontend Team",avatar:"",tasks:["task-1","task-2"]},{id:"row-2",label:"Backend Team",avatar:"",tasks:["task-3"]},{id:"row-3",label:"Design Team",avatar:"",tasks:["task-4"]}],v={"task-1":{id:"task-1",title:"UI Component Development",startDate:new Date(2024,0,1),endDate:new Date(2024,0,15),progress:60,assignee:"Alice",rowId:"row-1",dependencies:[],color:"#3b82f6",isMilestone:!1},"task-2":{id:"task-2",title:"Integration Testing",startDate:new Date(2024,0,16),endDate:new Date(2024,0,25),progress:0,assignee:"Bob",rowId:"row-1",dependencies:["task-1","task-3"],color:"#3b82f6",isMilestone:!1},"task-3":{id:"task-3",title:"API Development",startDate:new Date(2024,0,1),endDate:new Date(2024,0,14),progress:80,assignee:"Charlie",rowId:"row-2",dependencies:[],color:"#10b981",isMilestone:!1},"task-4":{id:"task-4",title:"Design System Update",startDate:new Date(2024,0,5),endDate:new Date(2024,0,12),progress:100,assignee:"Dana",rowId:"row-3",dependencies:[],color:"#f59e0b",isMilestone:!1}},w=(b=a=>({rows:u,tasks:v,setRows:b=>a({rows:b}),setTasks:b=>a({tasks:b}),updateTask:(b,c)=>a(a=>({tasks:{...a.tasks,[b]:{...a.tasks[b],...c}}}))}))?t(b):t;var x=a.i(50013);function y(){let a=w(a=>a.rows),b=w(a=>a.tasks),e=w(a=>a.updateTask),[f,g]=(0,d.useState)(null);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("header",{className:"p-4 border-b bg-gray-50",children:(0,c.jsx)("h1",{className:"text-xl font-semibold",children:"Timeline / Gantt Demo"})}),(0,c.jsxs)("div",{style:{display:"flex"},children:[(0,c.jsx)("main",{className:"p-4 flex-1",children:(0,c.jsx)(r,{rows:a,tasks:b,startDate:new Date(2024,0,1),endDate:new Date(2024,2,31),viewMode:"week",onTaskUpdate:(a,b)=>e(a,b)})}),f&&(0,c.jsx)("aside",{"aria-label":"Task details",className:"w-80 border-l p-4 bg-white shadow-md",children:(0,c.jsx)(x.TaskDetailSidebar,{task:b[f],onClose:()=>g(null),onSave:a=>{e(f,a),g(null)}})})]}),(0,c.jsx)("footer",{className:"text-center text-sm text-gray-500 py-2"})]})}a.s(["default",()=>y],40777)}];

//# sourceMappingURL=_97c70c85._.js.map