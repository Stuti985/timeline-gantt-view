(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,54479,(e,t,a)=>{var i="Expected a function",r=0/0,s=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,o=/^0o[0-7]+$/i,d=parseInt,u=e.g&&e.g.Object===Object&&e.g,c="object"==typeof self&&self&&self.Object===Object&&self,f=u||c||Function("return this")(),h=Object.prototype.toString,p=Math.max,g=Math.min,m=function(){return f.Date.now()};function b(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function x(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==h.call(t))return r;if(b(e)){var t,a="function"==typeof e.valueOf?e.valueOf():e;e=b(a)?a+"":a}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var i=l.test(e);return i||o.test(e)?d(e.slice(2),i?2:8):n.test(e)?r:+e}t.exports=function(e,t,a){var r=!0,s=!0;if("function"!=typeof e)throw TypeError(i);return b(a)&&(r="leading"in a?!!a.leading:r,s="trailing"in a?!!a.trailing:s),function(e,t,a){var r,s,n,l,o,d,u=0,c=!1,f=!1,h=!0;if("function"!=typeof e)throw TypeError(i);function w(t){var a=r,i=s;return r=s=void 0,u=t,l=e.apply(i,a)}function v(e){var a=e-d,i=e-u;return void 0===d||a>=t||a<0||f&&i>=n}function y(){var e,a,i,r=m();if(v(r))return k(r);o=setTimeout(y,(e=r-d,a=r-u,i=t-e,f?g(i,n-a):i))}function k(e){return(o=void 0,h&&r)?w(e):(r=s=void 0,l)}function D(){var e,a=m(),i=v(a);if(r=arguments,s=this,d=a,i){if(void 0===o)return u=e=d,o=setTimeout(y,t),c?w(e):l;if(f)return o=setTimeout(y,t),w(d)}return void 0===o&&(o=setTimeout(y,t)),l}return t=x(t)||0,b(a)&&(c=!!a.leading,n=(f="maxWait"in a)?p(x(a.maxWait)||0,t):n,h="trailing"in a?!!a.trailing:h),D.cancel=function(){void 0!==o&&clearTimeout(o),u=0,r=d=s=o=void 0},D.flush=function(){return void 0===o?l:k(m())},D}(e,t,{leading:r,maxWait:t,trailing:s})}},52683,e=>{"use strict";let t;var a=e.i(43476),i=e.i(71645);let r=(e,t,a)=>Math.round((e.getTime()-t.getTime())/864e5*a);var s=e.i(1851),n=e.i(77241),l=e.i(81092);function o(e,t,a){let i=(0,l.toDate)(e,a?.in);return isNaN(t)?(0,n.constructFrom)(a?.in||e,NaN):(t&&i.setDate(i.getDate()+t),i)}e.i(45110),e.i(85890);let d={day:"EEE dd",week:"'Week' ww",month:"MMM yyyy"},u=(e,t)=>"day"===t?o(e,1):"week"===t?o(e,7,void 0):function(e,t,a){let i=(0,l.toDate)(e,void 0);if(isNaN(1))return(0,n.constructFrom)(e,NaN);let r=i.getDate(),s=(0,n.constructFrom)(e,i.getTime());return(s.setMonth(i.getMonth()+1+1,0),r>=s.getDate())?s:(i.setFullYear(s.getFullYear(),s.getMonth(),r),i)}(e,0),c=({startDate:e,endDate:t,viewMode:i,pixelsPerDay:n})=>{let l=((e,t,a)=>{let i=[],r=new Date(e);for(;r<=t;)i.push({date:new Date(r),label:(0,s.format)(r,d[a])}),r=u(r,a);return i})(e,t,i);return(0,a.jsx)("div",{style:{position:"relative"},children:l.map(t=>{let i=r(t.date,e,n);return(0,a.jsx)("div",{style:{position:"absolute",left:i,top:0,width:Math.max(1,n),height:48,borderRight:"1px solid #eef2f7",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,a.jsx)("div",{className:"text-xs text-neutral-700",children:t.label})},t.date.toISOString())})})},f=({x1:e,y1:t,x2:i,y2:r})=>(0,a.jsx)("path",{d:`M ${e} ${t} C ${e+24} ${t} ${i-24} ${r} ${i} ${r}`,stroke:"#94a3b8",strokeWidth:2,fill:"none",markerEnd:"url(#arrowhead)"});var h=e.i(46932);let p=i.default.memo(({task:e,left:t,width:r,top:n,onOpen:l,pixelsPerDay:o=20,onCommit:d})=>{let u=(0,i.useRef)(null),[c,f]=(0,i.useState)(t),[p,g]=(0,i.useState)(r),[m,b]=(0,i.useState)(!1),[x,w]=(0,i.useState)(null),v=(0,i.useRef)(null);(0,i.useEffect)(()=>{f(t),g(r)},[t,r]);let y=(0,i.useCallback)(e=>{(m||x)&&(m&&f(t=>Math.max(0,t+e.movementX)),"left"===x&&(f(t=>Math.max(0,t+e.movementX)),g(t=>Math.max(10,t-e.movementX))),"right"===x&&g(t=>Math.max(10,t+e.movementX)))},[m,x]),k=(0,i.useCallback)(()=>{if((m||x)&&d?.(e.id,c,p),b(!1),w(null),null!==v.current){try{u.current?.releasePointerCapture(v.current)}catch{}v.current=null}},[m,x,c,p,d,e.id]);(0,i.useEffect)(()=>(window.addEventListener("pointermove",y),window.addEventListener("pointerup",k),()=>{window.removeEventListener("pointermove",y),window.removeEventListener("pointerup",k)}),[y,k]);let D=(0,i.useCallback)((e,t)=>{e.target.setPointerCapture?.(e.pointerId),v.current=e.pointerId,"left"===t?w("left"):"right"===t?w("right"):b(!0)},[]),j=(0,i.useCallback)(t=>{switch(t.key){case"Enter":case" ":l(e.id),t.preventDefault();break;case"ArrowLeft":f(e=>Math.max(0,e-o));break;case"ArrowRight":f(e=>e+o);break;case"Escape":b(!1),w(null)}},[l,e.id,o]),M=(0,i.useMemo)(()=>`${e.title}. From ${(0,s.format)(e.startDate,"MMM d, yyyy")} to ${(0,s.format)(e.endDate,"MMM d, yyyy")}. Progress: ${e.progress}%. Press Enter to edit.`,[e]),T=e.color||"#0ea5e9",S=(e=>{let t=e.startsWith("#")?e.slice(1):e;if(6!==t.length)return"#fff";let a=parseInt(t,16);return(299*(a>>16&255)+587*(a>>8&255)+114*(255&a))/1e3>150?"#000":"#fff"})(T);return(0,a.jsxs)(h.motion.div,{ref:u,role:"button",tabIndex:0,"aria-label":M,"aria-describedby":`task-${e.id}-details`,onKeyDown:j,onDoubleClick:()=>l(e.id),onPointerDown:e=>D(e),style:{position:"absolute",left:c,top:n,width:p,height:e.isMilestone?24:32,backgroundColor:T,borderRadius:6,color:S,display:"flex",alignItems:"center",padding:"0 8px",boxShadow:m?"0 8px 20px rgba(0,0,0,0.15)":"0 2px 6px rgba(0,0,0,0.08)",cursor:m?"grabbing":"grab",userSelect:"none",fontWeight:500,outline:"none"},className:"focus-visible:ring-2 focus-visible:ring-blue-700 focus-visible:ring-offset-2",initial:{opacity:0,y:-4},animate:{opacity:1,y:0},transition:{duration:.12},children:[(0,a.jsx)("div",{id:`task-${e.id}-details`,style:{flex:1,fontSize:12,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.title}),!e.isMilestone&&(0,a.jsxs)("div",{style:{marginLeft:8,fontSize:12},children:[e.progress,"%"]}),(0,a.jsx)("div",{"data-handle":"left",onPointerDown:e=>D(e,"left"),style:{position:"absolute",left:0,top:0,bottom:0,width:8,cursor:"ew-resize"},"aria-label":"Resize start date",role:"separator"}),(0,a.jsx)("div",{"data-handle":"right",onPointerDown:e=>D(e,"right"),style:{position:"absolute",right:0,top:0,bottom:0,width:8,cursor:"ew-resize"},"aria-label":"Resize start date",role:"separator"})]})});var g=e.i(54479);let m=(0,i.lazy)(()=>e.A(47289)),b=i.default.memo(function({rows:e,tasks:t,startDate:s,endDate:n,viewMode:l,onTaskUpdate:o}){let d="day"===l?40:"week"===l?20:10,u=s instanceof Date?s:new Date(s),h=Math.max(800,((n instanceof Date?n:new Date(n)).getTime()-u.getTime())/864e5*d+200),b=(0,i.useRef)(null),[x,w]=(0,i.useState)(null),[v,y]=(0,i.useState)(1);(0,i.useEffect)(()=>{let e=b.current;if(!e)return;let t=(0,g.default)(t=>{t.ctrlKey?(t.preventDefault(),y(e=>Math.min(2,Math.max(.5,e-.001*t.deltaY)))):e.scrollBy({left:t.deltaY,behavior:"smooth"})},16);return e.addEventListener("wheel",t,{passive:!1}),()=>e.removeEventListener("wheel",t)},[]);let k=(0,i.useMemo)(()=>{let a=new Map;return(e||[]).forEach((e,i)=>{(e.tasks||[]).forEach(e=>{let n,l,o=t[e];if(!o)return;let u=r(new Date(o.startDate),new Date(s),d),c=(n=new Date(o.startDate),l=new Date(o.endDate),Math.max(1,Math.round((l.getTime()-n.getTime())/864e5*d)));a.set(e,{left:u,width:c,top:64*i+12})})}),a},[e,t,s,d]),D=(0,i.useMemo)(()=>{let e=[];return Object.values(t).forEach(t=>{t.dependencies?.forEach(i=>{let r=k.get(i),s=k.get(t.id);if(!r||!s)return;let n=r.left+r.width+220,l=r.top+48,o=s.left+220,d=s.top+48;e.push((0,a.jsx)(f,{x1:n,y1:l,x2:o,y2:d},`${i}-${t.id}`))})}),e},[t,k]),j=(0,i.useCallback)((e,t,a)=>{let i=Math.round(t/(d*v)),r=new Date(s);r.setDate(r.getDate()+i);let n=Math.max(1,Math.round(a/(d*v))),l=new Date(r);l.setDate(l.getDate()+n),o(e,{startDate:r,endDate:l})},[o,s,d,v]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("section",{className:"relative border rounded bg-white",role:"region","aria-label":"Timeline view",style:{minHeight:64*e.length+80},children:(0,a.jsxs)("div",{style:{display:"flex"},children:[(0,a.jsxs)("div",{style:{width:220,borderRight:"1px solid #e6edf3",background:"#f9fafb",position:"sticky",left:0,zIndex:6},"aria-label":"Resource list",role:"region",children:[(0,a.jsx)("header",{style:{height:48,display:"flex",alignItems:"center",paddingLeft:12},children:(0,a.jsx)("h2",{className:"text-sm font-semibold text-gray-900 m-0",children:"Resources"})}),(0,a.jsx)("ul",{style:{margin:0,padding:0,listStyle:"none"},role:"list","aria-label":"Resource rows",children:e.map(e=>(0,a.jsx)("li",{style:{height:64,display:"flex",alignItems:"center",paddingLeft:12,borderBottom:"1px solid #f3f4f6",backgroundColor:"#ffffff"},children:(0,a.jsx)("div",{className:"inline-block bg-white px-1 py-0.5 rounded",children:(0,a.jsx)("span",{className:"text-xs text-gray-800",children:e.label})})},e.id))})]}),(0,a.jsx)("section",{ref:b,role:"region","aria-label":"Timeline scrollable area",tabIndex:0,style:{overflowX:"auto",width:"100%",outline:"none",background:"#ffffff"},children:(0,a.jsxs)("div",{style:{position:"relative",width:h},children:[(0,a.jsx)("div",{style:{position:"sticky",top:0,zIndex:5,background:"#fff"},children:(0,a.jsxs)("div",{style:{height:48,position:"relative",marginLeft:220},children:[(0,a.jsx)(c,{startDate:s,endDate:n,viewMode:l,pixelsPerDay:d*v}),(0,a.jsx)("div",{style:{position:"absolute",left:r(new Date,s,d*v),top:0,bottom:0,width:2,background:"rgba(239,68,68,0.9)"},"aria-hidden":"true"})]})}),(0,a.jsxs)("div",{style:{position:"relative"},children:[(0,a.jsxs)("svg",{style:{position:"absolute",left:220,top:48,width:h*v,height:64*e.length},"aria-hidden":"true",children:[(0,a.jsx)("defs",{children:(0,a.jsx)("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",children:(0,a.jsx)("polygon",{points:"0 0, 10 3, 0 6",fill:"#94a3b8"})})}),(0,a.jsx)("g",{children:D})]}),(0,a.jsx)("div",{style:{marginLeft:220,paddingTop:48},role:"list","aria-label":"Task rows",children:e.map(e=>(0,a.jsx)("div",{style:{height:64,position:"relative",borderBottom:"1px solid #f3f4f6",backgroundColor:"#ffffff"},role:"listitem",children:e.tasks.map(e=>{let i=t[e];if(!i)return null;let r=k.get(e);return(0,a.jsx)(p,{task:i,left:r.left,width:r.width,top:r.top,onOpen:()=>w(i.id),onCommit:(e,t,a)=>j(e,t,a),pixelsPerDay:d*v},i.id)})},e.id))})]})]})})]})}),x&&t[x]&&(0,a.jsx)(i.Suspense,{fallback:(0,a.jsx)("div",{children:"Loading task details..."}),children:(0,a.jsx)("aside",{role:"complementary","aria-label":"Task details sidebar",className:"fixed right-0 top-0 h-full w-[360px] bg-white shadow-lg z-10 border-l",children:(0,a.jsx)(m,{task:t[x],onClose:()=>w(null),onSave:e=>{o(x,e),w(null)}})})})]})}),x=e=>{let t,a=new Set,i=(e,i)=>{let r="function"==typeof e?e(t):e;if(!Object.is(r,t)){let e=t;t=(null!=i?i:"object"!=typeof r||null===r)?r:Object.assign({},t,r),a.forEach(a=>a(t,e))}},r=()=>t,s={setState:i,getState:r,getInitialState:()=>n,subscribe:e=>(a.add(e),()=>a.delete(e))},n=t=e(i,r,s);return s},w=e=>{let t=e?x(e):x,a=e=>(function(e,t=e=>e){let a=i.default.useSyncExternalStore(e.subscribe,i.default.useCallback(()=>t(e.getState()),[e,t]),i.default.useCallback(()=>t(e.getInitialState()),[e,t]));return i.default.useDebugValue(a),a})(t,e);return Object.assign(a,t),a},v=[{id:"row-1",label:"Frontend Team",avatar:"",tasks:["task-1","task-2"]},{id:"row-2",label:"Backend Team",avatar:"",tasks:["task-3"]},{id:"row-3",label:"Design Team",avatar:"",tasks:["task-4"]}],y={"task-1":{id:"task-1",title:"UI Component Development",startDate:new Date(2024,0,1),endDate:new Date(2024,0,15),progress:60,assignee:"Alice",rowId:"row-1",dependencies:[],color:"#3b82f6",isMilestone:!1},"task-2":{id:"task-2",title:"Integration Testing",startDate:new Date(2024,0,16),endDate:new Date(2024,0,25),progress:0,assignee:"Bob",rowId:"row-1",dependencies:["task-1","task-3"],color:"#3b82f6",isMilestone:!1},"task-3":{id:"task-3",title:"API Development",startDate:new Date(2024,0,1),endDate:new Date(2024,0,14),progress:80,assignee:"Charlie",rowId:"row-2",dependencies:[],color:"#10b981",isMilestone:!1},"task-4":{id:"task-4",title:"Design System Update",startDate:new Date(2024,0,5),endDate:new Date(2024,0,12),progress:100,assignee:"Dana",rowId:"row-3",dependencies:[],color:"#f59e0b",isMilestone:!1}},k=(t=e=>({rows:v,tasks:y,setRows:t=>e({rows:t}),setTasks:t=>e({tasks:t}),updateTask:(t,a)=>e(e=>({tasks:{...e.tasks,[t]:{...e.tasks[t],...a}}}))}))?w(t):w;var D=e.i(61070);function j(){let e=k(e=>e.rows),t=k(e=>e.tasks),r=k(e=>e.updateTask),[s,n]=(0,i.useState)(null);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("header",{className:"p-4 border-b bg-gray-50",children:(0,a.jsx)("h1",{className:"text-xl font-semibold",children:"Timeline / Gantt Demo"})}),(0,a.jsxs)("div",{style:{display:"flex"},children:[(0,a.jsx)("main",{className:"p-4 flex-1",children:(0,a.jsx)(b,{rows:e,tasks:t,startDate:new Date(2024,0,1),endDate:new Date(2024,2,31),viewMode:"week",onTaskUpdate:(e,t)=>r(e,t)})}),s&&(0,a.jsx)("aside",{"aria-label":"Task details",className:"w-80 border-l p-4 bg-white shadow-md",children:(0,a.jsx)(D.TaskDetailSidebar,{task:t[s],onClose:()=>n(null),onSave:e=>{r(s,e),n(null)}})})]}),(0,a.jsx)("footer",{className:"text-center text-sm text-gray-500 py-2"})]})}e.s(["default",()=>j],52683)},47289,e=>{e.v(e=>Promise.resolve().then(()=>e(61070)))}]);